import{r as c,j as e}from"./vendor-B-2yl_ca.js";import{u as P}from"./tasks-Bc7UcxXI.js";import{U as S,I as L,ab as A,ad as E,af as w,ag as m,b as B,D as j,h as u,ae as F}from"./settings-C_-OD5GG.js";import{a as M}from"./emoji-D7qZVVSC.js";import{f as v,bF as R,bG as U,l as x,x as q,z as G,E as H,D as I,aP as N,a7 as V}from"./ui-lib-C41lPcrf.js";import"./ntc-LB1IgDFN.js";const X=()=>{const{user:r,setUser:T}=c.useContext(S),{tasks:o}=r,[t,h]=P([],"tasksToPurge","sessionStorage"),[k,l]=c.useState(!1);c.useEffect(()=>{document.title="Todo App - Tarefas de limpeza"},[]);const i=o.filter(s=>s.done),p=o.filter(s=>!s.done),g=new Intl.ListFormat("en",{style:"long",type:"conjunction"}).format(t.map(s=>{const n=r.tasks.find(a=>a.id===s);return n?n.name:""})),C=s=>{h(n=>n.includes(s)?n.filter(a=>a!==s):[...n,s])},d=s=>{const n=r.tasks.filter(a=>!s.some(z=>z===a));h([]),T(a=>({...a,tasks:n}))},D=()=>{const s=o.filter(n=>t.includes(n.id));d(s),u(e.jsxs("div",{children:["Purged selectedTasks tasks: ",e.jsx("b",{translate:"no",children:g})]}))},b=()=>{d(i),u("Limpou todas as tarefas realizadas.")},y=()=>{l(!0)},f=(s,n)=>e.jsxs(e.Fragment,{children:[e.jsx(I,{sx:{fontWeight:500,my:"4px"},children:n}),s.map(a=>e.jsxs(F,{backgroundClr:a.color,onClick:()=>C(a.id),selected:t.includes(a.id),translate:"no",children:[e.jsx(N,{size:"medium",checked:t.includes(a.id)}),e.jsxs(V,{variant:"body1",component:"span",sx:{display:"flex",alignItems:"center",gap:"6px",wordBreak:"break-word"},children:[e.jsx(M,{size:24,unified:a.emoji||"",emojiStyle:r.emojisStyle})," ",a.name]})]},a.id))]});return e.jsxs(e.Fragment,{children:[e.jsx(L,{title:"Tarefas de limpeza"}),e.jsx(A,{children:"Selecionar tarefas a serem limpas"}),e.jsxs(E,{children:[i.length>0&&f(i,"Tarefas concluídas"),p.length>0&&f(p,"Tarefas não concluídas"),o.length===0&&e.jsx("h3",{style:{opacity:.8,fontStyle:"italic"},children:"Você não tem nenhuma tarefa para limpar"})]}),e.jsxs(w,{children:[e.jsx(v,{title:t.length>0?e.jsxs("div",{children:[e.jsx("span",{children:"Tarefas selecionadas: "}),e.jsx("span",{translate:"no",children:g})]}):void 0,children:e.jsxs(m,{onClick:D,disabled:t.length===0,children:[e.jsx(R,{}),"   Limpar selecionado"," ",t.length>0&&`[${t.length}]`]})}),e.jsxs(m,{onClick:b,disabled:i.length===0,children:[e.jsx(U,{}),"   Limpeza feita"]}),e.jsxs(m,{color:"error",onClick:y,disabled:o.length===0,children:[e.jsx(x,{}),"   Limpar todas as tarefas"]})]}),e.jsxs(q,{open:k,onClose:()=>l(!1),children:[e.jsx(B,{title:"Purge All Tasks",subTitle:"Confirm that you want to purge all tasks",onClose:()=>l(!1),icon:e.jsx(x,{})}),e.jsx(G,{children:"Esta ação não pode ser desfeita. Tem certeza de que deseja prosseguir?"}),e.jsxs(H,{children:[e.jsx(j,{onClick:()=>l(!1),children:"Cancelar"}),e.jsxs(j,{color:"error",onClick:()=>{d(o),l(!1),u("Limpeza efetuada")},children:[e.jsx(x,{}),"   Limpar"]})]})]})]})};export{X as default};
