import{r as d,j as e}from"./vendor-B-2yl_ca.js";import{u as S}from"./tasks-DYYyw5nR.js";import{U as P,J as A,ac as L,ae as w,ag as z,ah as u,b as B,D as p,h as x,af as F}from"./settings-xmdSeWFy.js";import{a as M}from"./emoji-D7qZVVSC.js";import{f as v,bF as R,bG as U,l as m,x as q,z as G,E as H,D as J,aP as N,a7 as V}from"./ui-lib-C41lPcrf.js";import"./ntc-LB1IgDFN.js";const X=()=>{const{user:l,setUser:T}=d.useContext(P),{tasks:o}=l,[t,h]=S([],"tasksToPurge","sessionStorage"),[C,r]=d.useState(!1);d.useEffect(()=>{document.title="Todo App - Exclusão de Tarefas"},[]);const i=o.filter(s=>s.done),f=o.filter(s=>!s.done),j=new Intl.ListFormat("en",{style:"long",type:"conjunction"}).format(t.map(s=>{const n=l.tasks.find(a=>a.id===s);return n?n.name:""})),k=s=>{h(n=>n.includes(s)?n.filter(a=>a!==s):[...n,s])},c=s=>{const n=l.tasks.filter(a=>!s.some(E=>E===a));h([]),T(a=>({...a,tasks:n}))},D=()=>{const s=o.filter(n=>t.includes(n.id));c(s),x(e.jsxs("div",{children:["Tarefas selecionadas para exclusão ",e.jsx("b",{translate:"no",children:j})]}))},b=()=>{c(i),x("Limpou todas as tarefas realizadas.")},y=()=>{r(!0)},g=(s,n)=>e.jsxs(e.Fragment,{children:[e.jsx(J,{sx:{fontWeight:500,my:"4px"},children:n}),s.map(a=>e.jsxs(F,{backgroundClr:a.color,onClick:()=>k(a.id),selected:t.includes(a.id),translate:"no",children:[e.jsx(N,{size:"medium",checked:t.includes(a.id)}),e.jsxs(V,{variant:"body1",component:"span",sx:{display:"flex",alignItems:"center",gap:"6px",wordBreak:"break-word"},children:[e.jsx(M,{size:24,unified:a.emoji||"",emojiStyle:l.emojisStyle})," ",a.name]})]},a.id))]});return e.jsxs(e.Fragment,{children:[e.jsx(A,{title:"Exclusão de Tarefas"}),e.jsx(L,{children:"Selecionar tarefas para exclusão"}),e.jsxs(w,{children:[i.length>0&&g(i,"Tarefas concluídas"),f.length>0&&g(f,"Tarefas não concluídas"),o.length===0&&e.jsx("h3",{style:{opacity:.8,fontStyle:"italic"},children:"Você não tem nenhuma tarefa para excluir"})]}),e.jsxs(z,{children:[e.jsx(v,{title:t.length>0?e.jsxs("div",{children:[e.jsx("span",{children:"Tarefas selecionadas: "}),e.jsx("span",{translate:"no",children:j})]}):void 0,children:e.jsxs(u,{onClick:D,disabled:t.length===0,children:[e.jsx(R,{}),"   Executar exclusão"," ",t.length>0&&`[${t.length}]`]})}),e.jsxs(u,{onClick:b,disabled:i.length===0,children:[e.jsx(U,{}),"   Exclusão feita"]}),e.jsxs(u,{color:"error",onClick:y,disabled:o.length===0,children:[e.jsx(m,{}),"   Limpar todas as tarefas"]})]}),e.jsxs(q,{open:C,onClose:()=>r(!1),children:[e.jsx(B,{title:"Limpar todas as tarefas",subTitle:"Confirme que deseja limpar todas as tarefas",onClose:()=>r(!1),icon:e.jsx(m,{})}),e.jsx(G,{children:"Esta ação não pode ser desfeita. Tem certeza de que deseja prosseguir?"}),e.jsxs(H,{children:[e.jsx(p,{onClick:()=>r(!1),children:"Cancelar"}),e.jsxs(p,{color:"error",onClick:()=>{c(o),r(!1),x("Exclusão efetuada")},children:[e.jsx(m,{}),"   Limpar"]})]})]})]})};export{X as default};
